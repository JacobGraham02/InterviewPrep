CREATE DATABASE NEWDB3;


CREATE USER 'DARCY4'@'localhost'
  IDENTIFIED BY 'new_password' PASSWORD EXPIRE;

CREATE USER 'darcy4'@'localhost'
  IDENTIFIED WITH caching_sha2_password BY 'new_password'
  PASSWORD EXPIRE INTERVAL 180 DAY
  FAILED_LOGIN_ATTEMPTS 3 PASSWORD_LOCK_TIME 2;



ALTER USER 'darcy4'@'localhost' IDENTIFIED BY 'NEW_PASSWORD2';


DROP USER 'darcy4'@'localhost'



GRANT SELECT ON tennis.PLAYERS TO 'jeffrey'@'localhost';



GRANT   INSERT, UPDATE
ON      tennis.TEAMS
TO      'jeffrey'@'localhost'
WITH grant option;


GRANT insert, update 
ON   TENNIS.TEAMS
TO      'JIM'@'localhost'





GRANT   UPDATE (PLAYERNO, DIVISION)
ON      TEAMS
TO      'jeffrey'@'localhost'

GRANT   UPDATE 
ON      EMPLOYEE
TO      'jeffrey'@'localhost'

REVOKE UPDATE(SALARY)
ON    EMPLOYEE
TO  'jeffrey'@'localhost'

update employee set salary = 10000000 where firstnme = 'jeffrey'


GRANT   SELECT
ON      TENNIS.*
TO      'darcy4'@'localhost'

GRANT   CREATE, ALTER, DROP, CREATE VIEW
ON      TENNIS.CITYS
TO      PUBLIC






CREATE ROLE SALES;

GRANT   SELECT, INSERT
ON      PENALTIES
TO      SALES;

GRANT   SELECT, INSERT
ON      PLAYERS
TO      SALES;

GRANT   SELECT, INSERT
ON      players_xxl
TO      SALES;


GRANT SALES TO ILENE, KELLY, JIM, MARC




REVOKE   SELECT
ON       PLAYERS
FROM     JIM

CREATE   VIEW NAME_ADDRESS AS
SELECT   NAME, INITIALS, STREET, HOUSENO,
         TOWN
FROM     PLAYERS
WHERE    LEAGUENO IS NULL;

GRANT   SELECT
ON      NAME_ADDRESS
TO      DIANE


/*  SEQUENCES   */

CREATE TABLE COUNTRIES
      (COUNTRYNO     INTEGER NOT NULL PRIMARY KEY,
       COUNTRYNAME   VARCHAR(30) NOT NULL)
;




CREATE SEQUENCE HUNDRED START WITH 100;

SELECT   NEXT VALUE FOR HUNDRED AS NUMBERS
FROM     MATCHES
WHERE    MATCHES <= 5




CREATE SEQUENCE BIG_STEPS   INCREMENT BY 100

;

SELECT   NEXT VALUE FOR BIG_STEPS AS NUMBERS
FROM     MATCHES
WHERE    MATCHNO <= 5




CREATE SEQUENCE BACKWARDS
   INCREMENT BY -10

;

SELECT   NEXT VALUE FOR BACKWARDS AS NUMBERS
FROM     MATCHES
WHERE    MATCHNO <= 5   






CREATE SEQUENCE MIN98

   START WITH 100

   INCREMENT BY -1

   MINVALUE 98

;

SELECT   NEXT VALUE FOR MIN98 AS NUMBERS
FROM     MATCHES
WHERE    MATCHNO <= 5



CREATE SEQUENCE CYCLE3
   START WITH 1 
   INCREMENT BY 1
   MAXVALUE 3
   CYCLE;


CREATE SEQUENCE STANDARD
   MINVALUE 1
   MAXVALUE 2147483647
   START WITH 1
   INCREMENT BY 1
   NOCYCLE
   CACHE 20
   ORDER




ALTER SEQUENCE COUNTRYNUMBERS

   RESTART


